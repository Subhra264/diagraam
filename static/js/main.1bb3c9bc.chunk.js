(this.webpackJsonpdiagraam=this.webpackJsonpdiagraam||[]).push([[0],{55:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n.n(a),l=n(45),i=n.n(l),o=(n(55),n(12)),s=(n(56),n(22)),c=n(26),d="#333337";n(58);var u=n(4);function h(e){var t=Object(a.useRef)(null);return Object(a.useEffect)((function(){e.editorGraph&&e.editorPaper&&function(e,t,n){var a=new s.b.Graph,r=new s.b.Paper({el:e.current,model:a,background:{color:"#1a253a"},width:"100%",height:450,interactive:!1}),l=new c.a.standard.Rectangle({position:{x:10,y:10},size:{width:75,height:50},attrs:{body:{fill:d,stroke:null,rx:10,ry:10},label:{text:"Rectangle",fill:"white"}}}),i=new c.a.standard.Circle({position:{x:110,y:10},size:{width:50,height:50},attrs:{body:{fill:d,stroke:null},label:{text:"Circle",fill:"white"}}}),o=new c.a.standard.Cylinder({position:{x:10,y:75},size:{width:75,height:50},attrs:{body:{fill:d,stroke:null},top:{fill:"grey"},label:{text:"Cylinder",fill:"white"}}}),u=new c.a.standard.Ellipse({position:{x:110,y:75},size:{width:75,height:50},attrs:{body:{fill:d,stroke:null},label:{text:"Ellipse",fill:"white"}}}),h=new c.a.standard.Polygon({position:{x:10,y:160},size:{width:75,height:50},attrs:{body:{fill:d,stroke:null,refPoints:"0,10 10,0 20,10 10,20"},label:{text:"Polygon",fill:"white"}}}),p=new c.a.standard.HeaderedRectangle({position:{x:110,y:140},size:{width:75,height:50},attrs:{header:{fill:"grey"},headerText:{text:"Header",fill:"black"},body:{fill:d,stroke:null},bodyText:{text:""}}}),f=new c.a.standard.Image({position:{x:10,y:210},size:{width:75,height:50},attrs:{image:{xlinkHref:""},body:{fill:d,stroke:null},label:{text:"Image",fill:"white"}}}),m=new c.a.standard.EmbeddedImage({position:{x:110,y:210},size:{width:75,height:50},attrs:{image:{xlinkHref:""},body:{fill:d,stroke:null},label:{text:"Embedded Image",fill:"white"}}}),b=new c.a.standard.InscribedImage({position:{x:10,y:290},size:{width:75,height:50},attrs:{image:{xlinkHref:""},body:{fill:d,stroke:null},label:{text:"Inscribed Image",fill:"white"}}}),g=new c.a.standard.Path({position:{x:110,y:290},size:{width:75,height:50},attrs:{body:{refD:"M 0 5 10 0 C 20 0 20 20 10 20 L 0 15 Z",stroke:"grey",fill:"#00000000"},label:{text:"Path",fill:"white"}}});a.addCells([l,i,o,u,h,p,f,m,b,g]),r.on("cell:pointerdown",(function(e,a,r,l){var i=document.body,o=document.createElement("div");o.id="flyPaper",o.style="position:fixed;z-index:100;opacity:0.7;pointer-event:none;",i.append(o);var c=document.getElementById("flyPaper"),d=new s.b.Graph,u=(new s.b.Paper({el:c,model:d,height:60,width:80,background:{color:"#00000000"},interactive:!1}),e.model.clone()),h=e.model.position(),p=r-h.x,f=l-h.y;u.position(0,0),d.addCell(u);var m=function(e){c.style.left=e.pageX-p+"px",c.style.top=e.pageY-f+"px"};m(a),i.addEventListener("mousemove",m),i.addEventListener("mouseup",(function e(a){var r=a.pageX,l=a.pageY,o=n.$el.offset();if(r>o.left&&r<o.left+n.$el.width()&&l>o.top&&l<o.top+n.$el.height()){var s=u.clone();s.position(r-o.left-p,l-o.top-f),s.resize(120,80),t.addCell(s)}i.removeEventListener("mousemove",m),i.removeEventListener("mouseup",e),u.remove(),c.remove()}))}))}(t,e.editorGraph,e.editorPaper)}),[e.editorGraph,e.editorPaper]),Object(u.jsx)("div",{className:"component-selector",children:Object(u.jsxs)("div",{className:"shapes-container",children:[Object(u.jsx)("div",{className:"shapes-type-heading",children:"Components"}),Object(u.jsx)("div",{className:"shapes",ref:t})]})})}var p=n(34);n(60);function f(e){return Object(u.jsx)("div",{className:"component-meta-editor",children:e.cellType&&"link"!==e.cellType&&Object(u.jsxs)("div",{className:"container",children:[e.cellSize&&Object(u.jsxs)("div",{className:"cell-attr-group",children:[Object(u.jsx)("h3",{children:"Size"}),Object(u.jsx)("div",{className:"underline"}),Object(u.jsx)("div",{className:"cell-attr-group-fields",children:Object.keys(e.cellSize).map((function(t){return Object(u.jsxs)("div",{className:"cell-attr-group-fields",children:[Object(u.jsx)("div",{className:"key-field-name",children:t}),Object(u.jsx)("input",{type:"number",value:e.cellSize[t]?e.cellSize[t]:"",onChange:function(n){return function(t,n){e.setCellSize((function(e){var a=Object(p.a)({},e);return a[n]=t.target.value,a}))}(n,t)}})]})}))})]}),Object.keys(e.cellMetaData).map((function(t){return Object(u.jsxs)("div",{className:"cell-attr-group",children:[Object(u.jsx)("h3",{children:t}),Object(u.jsx)("div",{className:"underline"}),Object(u.jsx)("div",{className:"cell-attr-group-fields",children:Object.keys(e.cellMetaData[t]).map((function(n){return Object(u.jsx)("div",{className:"cell-attr-key-field-group",children:!(e.cellMetaData[t][n]instanceof Object)&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"key-field-name",children:n}),Object(u.jsx)("input",{type:"text",value:e.cellMetaData[t][n]?e.cellMetaData[t][n]:"",onChange:function(a){return function(t,n,a){e.setCellMetaData((function(e){var r=Object(p.a)({},e);return console.log("target.cellMetaDataKey",n),console.log("target.attrKeyField",a),r[n][a]=t.target.value,r}))}(a,t,n)}})]})},n)}))})]},t)}))]})})}n(61);function m(e){var t=e.canvasRef,n=Object(a.useState)(null),r=Object(o.a)(n,2),l=r[0],i=r[1];return Object(a.useEffect)((function(){var n=new s.b.Graph,a=new s.b.Paper({el:t.current,model:n,background:{color:"#1B283F"},width:"100%",height:"100%",gridSize:30,drawGrid:{name:"mesh",args:{color:"#2C2E41",thickness:1}},frozen:!0,snapLinks:!0,linkPinning:!1,defaultLink:new c.a.standard.Link,async:!0,connectionStrategy:s.a.pinAbsolute});e.setEditorGraph(n),e.setEditorPaper(a);var r=new s.e.Vertices,l=new s.e.Segments,o=new s.e.Remove,d=new s.b.ToolsView({name:"link-tools",tools:[r,l,o]}),u=new s.c.Remove,h=new(s.c.Button.extend({name:"link-generate-button",options:{markup:[{tagName:"circle",selector:"button",attributes:{r:10,fill:"#64A0C1",stroke:"white","stroke-width":1,cursor:"pointer"}}],x:"100%",y:"50%",offset:{x:0,y:0},rotate:!0,action:function(e,t,n){var r=new c.a.standard.Link({label:{text:"link"}});r.source(t.model,{anchor:{name:"modelCenter"}}),r.set("target",{x:e.pageX,y:e.pageY}),r.addTo(a.model)}}})),p=new s.b.ToolsView({name:"element-tools",tools:[u,h]});a.on("cell:pointerclick",(function(t){f(this);var n=t.model;console.log(n),i(n.id);var a=n.isElement()?"element":"link";if("element"===a){e.setCellMetaData(n.attributes.attrs),e.setCellSize(n.attributes.size);var r=n.attributes.type.split(".")[1];a=a+"."+r,console.log(r,a)}if(e.setCellType(a),n.isLink())return n.attr({line:{stroke:"orange"}}),void s.d.mask.add(t,{selector:"root"},"my-cell-highlight",{padding:0,deep:!0,layer:"back",attrs:{stroke:null}});s.d.mask.add(t,{selector:"root"},"my-cell-highlight",{padding:0,deep:!0,layer:"front",attrs:{stroke:"orange","stroke-width":3}})})),a.on("cell:contextmenu",(function(e){e.pointerclick()})),a.on("cell:mouseover",(function(e){if(!s.d.mask.get(e,"my-cell-highlight")){var t=e.model;if(t.isLink())return t.attr({line:{stroke:"orange"}}),void s.d.mask.add(e,{selector:"root"},"my-hover-highlight",{padding:0,deep:!0,layer:"back",attrs:{stoke:null}});s.d.mask.add(e,{selector:"root"},"my-hover-highlight",{padding:0,deep:!0,layer:"front",attrs:{stroke:"orange","stroke-width":3}})}})),a.on("cell:pointerdown",(function(t){f(this);var n=t.model;i(n.id);var a=n.isElement()?"element":"link";if("element"===a){e.setCellMetaData(n.attributes.attrs),e.setCellSize(n.attributes.size);var r=n.attributes.type.split(".")[1];a=a+"."+r,console.log(r,a)}if(e.setCellType(a),n.isLink())return n.attr({line:{stroke:"orange"}}),void s.d.mask.add(t,{selector:"root"},"my-cell-highlight",{padding:0,deep:!0,layer:"back",attrs:{stoke:null}});s.d.mask.add(t,{selector:"root"},"my-cell-highlight",{padding:0,deep:!0,layer:"front",attrs:{stroke:"orange","stroke-width":3}})})),a.on("cell:mouseout",(function(e){s.d.mask.remove(e,"my-hover-highlight");var t=e.model;t.isLink()&&(s.d.mask.get(e,"my-cell-highlight")||t.attr("line/stroke","#64A0C1"))})),a.on("link:pointerclick",(function(e){a.removeTools(),e.addTools(d)})),a.on("link:pointerdown",(function(e){this.removeTools(),e.addTools(d)})),a.on("link:pointerup",(function(e,t,a,r){var l=e.model;if(!l.getSourceElement()||!l.getTargetElement()){var i=n.findModelsFromPoint({x:a,y:r});if(i.length){var o=i[0];l.target(o)}}})),a.on("element:pointerclick",(function(e){this.removeTools(),e.addTools(p)})),a.on("element:pointerdown",(function(e){this.removeTools(),e.addTools(p)})),a.on("blank:pointerclick",(function(){f(this),a.removeTools(),e.setCellType(null),i(null)}));var f=function(e){for(var t=e.model.getElements(),n=0;n<t.length;n++){var a=e.findViewByModel(t[n]);s.d.mask.remove(a)}for(var r=e.model.getLinks(),l=0;l<r.length;l++){var i=r[l];i.attr("line/stroke","#64A0C1");var o=e.findViewByModel(i);s.d.mask.remove(o)}};a.unfreeze()}),[]),Object(a.useEffect)((function(){var t=e.editorGraph,n=e.editorPaper;if(t&&n&&l){var a=t.getCell(l);a&&!a.isLink()&&(a.attr(Object(p.a)(Object(p.a)({},a.attributes.attrs),e.cellMetaData)),a.resize(e.cellSize.width,e.cellSize.height))}}),[e.cellSize,e.cellMetaData,e.editorGraph,e.editorPaper]),Object(u.jsx)("div",{className:"diagram-editor",ref:t})}n(62);function b(e){var t=Object(a.useState)(null),n=Object(o.a)(t,2),r=n[0],l=n[1],i=Object(a.useState)(null),s=Object(o.a)(i,2),c=s[0],d=s[1],p=Object(a.useState)({}),b=Object(o.a)(p,2),g=b[0],v=b[1],j=Object(a.useState)({}),y=Object(o.a)(j,2),O=y[0],x=y[1];return Object(u.jsxs)("div",{className:"app-wrapper",children:[Object(u.jsx)(h,{editorGraph:e.editorGraph,editorPaper:r}),Object(u.jsx)(m,{canvasRef:e.canvasRef,editorGraph:e.editorGraph,setEditorGraph:e.setEditorGraph,editorPaper:r,setEditorPaper:l,setCellType:d,cellMetaData:g,setCellMetaData:v,cellSize:O,setCellSize:x}),Object(u.jsx)(f,{cellType:c,cellMetaData:g,setCellMetaData:v,cellSize:O,setCellSize:x})]})}var g={JSON:"json",PNG:"png",JPEG:"jpeg"},v="ARCHITECTURE",j="DECISIONTREE";function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var x=a.createElement("path",{d:"M0 32.875L0.479167 37.5L3.58417 34.2917L8.89333 18.4584C7.59 18.1042 6.44 17.3959 5.50083 16.4167L0 32.875ZM16.1192 16.4167C15.18 17.3959 14.0108 18.1042 12.7267 18.4584L18.0358 34.2917L21.1408 37.5L21.6392 32.875L16.1192 16.4167ZM16.445 11.6667C17.02 8.4167 15.295 5.5417 12.7267 4.5417V2.08336C12.7267 0.93753 11.8642 3.05176e-05 10.81 3.05176e-05C9.75583 3.05176e-05 8.89333 0.93753 8.89333 2.08336V4.5417C6.67 5.4167 5.06 7.70836 5.06 10.4167C5.06 14.25 8.24167 17.2917 11.8833 16.5625C14.145 16.1042 16.0042 14.125 16.445 11.6667ZM10.81 12.5C9.75583 12.5 8.89333 11.5625 8.89333 10.4167C8.89333 9.27086 9.75583 8.33336 10.81 8.33336C11.8642 8.33336 12.7267 9.27086 12.7267 10.4167C12.7267 11.5625 11.8642 12.5 10.81 12.5Z",fill:"#DDDDDDBF"});function k(e,t){var n=e.title,r=e.titleId,l=O(e,["title","titleId"]);return a.createElement("svg",y({width:22,height:28,viewBox:"0 0 22 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},l),n?a.createElement("title",{id:r},n):null,x)}var w=a.forwardRef(k);n.p;function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var D=a.createElement("path",{d:"M39.6484 17.3091L35 12.9512V4.01562C35 3.69824 34.8763 3.42358 34.6289 3.19165C34.3815 2.95972 34.0885 2.84375 33.75 2.84375H18.7891C18.0078 2.13574 16.9531 1.56812 15.625 1.14087C14.2969 0.713623 12.8385 0.5 11.25 0.5C8.82812 0.5 6.76432 0.957764 5.05859 1.87329C3.35286 2.78882 2.5 3.89355 2.5 5.1875C2.5 6.35938 3.21615 7.37866 4.64844 8.24536C6.08073 9.11206 7.86458 9.63086 10 9.80176V14.5625H2.5C1.82292 14.5625 1.23698 14.7944 0.742188 15.2583C0.247396 15.7222 0 16.2715 0 16.9062V21.5938C0 22.2529 0.247396 22.8083 0.742188 23.26C1.23698 23.7117 1.82292 23.9375 2.5 23.9375H10V28.6982C7.86458 28.8691 6.08073 29.3879 4.64844 30.2546C3.21615 31.1213 2.5 32.1406 2.5 33.3125C2.5 34.6064 3.35286 35.7112 5.05859 36.6267C6.76432 37.5422 8.82812 38 11.25 38C13.6719 38 15.7357 37.5422 17.4414 36.6267C19.1471 35.7112 20 34.6064 20 33.3125C20 32.1406 19.2839 31.1213 17.8516 30.2546C16.4193 29.3879 14.6354 28.8691 12.5 28.6982V23.9375H20C20.7031 23.9375 21.2956 23.7117 21.7773 23.26C22.2591 22.8083 22.5 22.2529 22.5 21.5938V19.25H28.2031L32.8906 23.6445C33.125 23.8643 33.4049 23.9741 33.7305 23.9741C34.056 23.9741 34.3359 23.8643 34.5703 23.6445L39.6484 18.8838C39.8828 18.6641 40 18.4016 40 18.0964C40 17.7913 39.8828 17.5288 39.6484 17.3091ZM20 14.5625H12.5V9.80176C14.6354 9.63086 16.4193 9.11206 17.8516 8.24536C19.2839 7.37866 20 6.35938 20 5.1875H32.5V12.9146L28.2422 16.9062H22.5C22.5 16.2715 22.2591 15.7222 21.7773 15.2583C21.2956 14.7944 20.7031 14.5625 20 14.5625Z",fill:"#DDDDDDBF"});function N(e,t){var n=e.title,r=e.titleId,l=E(e,["title","titleId"]);return a.createElement("svg",C({width:40,height:28,viewBox:"0 0 40 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},l),n?a.createElement("title",{id:r},n):null,D)}var S=a.forwardRef(N),z=(n.p,n(44)),P=n.n(z),L=n(47),T=n(48),G=n.n(T);n(64);function M(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],l=n[1],i=Object(a.useRef)(null),s=e.canvasRef.current,c=function(){var t=Object(L.a)(P.a.mark((function t(n){var a,r,l,o,c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.editorGraph||!s){t.next=16;break}if(console.log("Canvas",s),a="",n!=g.JSON){t.next=10;break}r=e.editorGraph.toJSON(),l=JSON.stringify(r,null,4),o=new Blob([l]),a=URL.createObjectURL(o),t.next=15;break;case 10:if(n!=g.PNG&&n!==g.JPEG){t.next=15;break}return t.next=13,G()(s);case 13:c=t.sent,a=c.toDataURL("image/".concat(n));case 15:a&&(i.current.href=a,i.current.download="Diagraam."+n,i.current.click());case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"export-as-selector",children:[Object(u.jsx)("a",{className:"display-none",ref:i}),Object(u.jsx)("div",{className:"export-as-label",onClick:function(){l((function(e){return!e}))},children:"Export as"}),Object(u.jsx)("div",{className:"export-select-options"+(r?"":" display-none"),children:Object.keys(g).map((function(e){return Object(u.jsxs)("div",{className:"select-option",onClick:function(){return c(g[e])},children:["Export as ",e]},e)}))})]})}n(65);function R(e){var t=[{type:v,label:Object(u.jsx)(w,{}),title:"Architecture Diagram"},{type:j,label:Object(u.jsx)(S,{}),title:"Decision Tree Diagram"}];return Object(u.jsxs)("div",{className:"navbar",children:[Object(u.jsxs)("div",{className:"left",children:[Object(u.jsx)("div",{className:"icon logo",children:"D"}),t.map((function(t){return Object(u.jsx)("div",{className:"icon hoverable"+(t.type===e.diagramType?" active":""),title:t.title,onClick:function(){return e.setDiagramType(t.type)},children:t.label},t.title)}))]}),Object(u.jsx)("div",{className:"middle",children:"Diagraam"}),Object(u.jsx)("div",{className:"right",children:Object(u.jsx)(M,{editorGraph:e.editorGraph,canvasRef:e.canvasRef})})]})}var I=function(){var e=Object(a.useState)(v),t=Object(o.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)(null),i=Object(o.a)(l,2),s=i[0],c=i[1],d=Object(a.useRef)(null);return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(R,{diagramType:n,setDiagramType:r,editorGraph:s,canvasRef:d}),Object(u.jsx)(b,{canvasRef:d,editorGraph:s,setEditorGraph:c})]})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,l=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),l(e),i(e)}))};i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(I,{})}),document.getElementById("root")),V()}},[[67,1,2]]]);
//# sourceMappingURL=main.1bb3c9bc.chunk.js.map