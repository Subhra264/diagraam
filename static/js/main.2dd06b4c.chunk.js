(this.webpackJsonpdiagraam=this.webpackJsonpdiagraam||[]).push([[0],{53:function(e,t,l){},54:function(e,t,l){},56:function(e,t,l){},58:function(e,t,l){},60:function(e,t,l){},61:function(e,t,l){},62:function(e,t,l){},64:function(e,t,l){"use strict";l.r(t);var r=l(9),n=l.n(r),i=l(44),a=l.n(i),o=(l(53),l(12)),s=(l(54),l(45)),c=l(22),d=l(26),u="#333337";l(56);var h=l(4);function p(e){var t=Object(r.useRef)(null);return Object(s.useEffect)((function(){e.editorGraph&&e.editorPaper&&function(e,t,l){var r=new c.b.Graph,n=new c.b.Paper({el:e.current,model:r,background:{color:"#1a253a"},width:"100%",height:450,interactive:!1}),i=new d.a.standard.Rectangle({position:{x:10,y:10},size:{width:75,height:50},attrs:{body:{fill:u,stroke:null,rx:10,ry:10},label:{text:"Rectangle",fill:"white"}}}),a=new d.a.standard.Circle({position:{x:110,y:10},size:{width:50,height:50},attrs:{body:{fill:u,stroke:null},label:{text:"Circle",fill:"white"}}}),o=new d.a.standard.Cylinder({position:{x:10,y:75},size:{width:75,height:50},attrs:{body:{fill:u,stroke:null},top:{fill:"grey"},label:{text:"Cylinder",fill:"white"}}}),s=new d.a.standard.Ellipse({position:{x:110,y:75},size:{width:75,height:50},attrs:{body:{fill:u,stroke:null},label:{text:"Ellipse",fill:"white"}}}),h=new d.a.standard.Polygon({position:{x:10,y:160},size:{width:75,height:50},attrs:{body:{fill:u,stroke:null,refPoints:"0,10 10,0 20,10 10,20"},label:{text:"Polygon",fill:"white"}}}),p=new d.a.standard.HeaderedRectangle({position:{x:110,y:140},size:{width:75,height:50},attrs:{header:{fill:"grey"},headerText:{text:"Header",fill:"black"},body:{fill:u,stroke:null},bodyText:{text:""}}}),f=new d.a.standard.Image({position:{x:10,y:210},size:{width:75,height:50},attrs:{image:{xlinkHref:""},body:{fill:u,stroke:null},label:{text:"Image",fill:"white"}}}),m=new d.a.standard.EmbeddedImage({position:{x:110,y:210},size:{width:75,height:50},attrs:{image:{xlinkHref:""},body:{fill:u,stroke:null},label:{text:"Embedded Image",fill:"white"}}}),b=new d.a.standard.InscribedImage({position:{x:10,y:290},size:{width:75,height:50},attrs:{image:{xlinkHref:""},body:{fill:u,stroke:null},label:{text:"Inscribed Image",fill:"white"}}}),g=new d.a.standard.Path({position:{x:110,y:290},size:{width:75,height:50},attrs:{body:{refD:"M 0 5 10 0 C 20 0 20 20 10 20 L 0 15 Z",stroke:"grey",fill:"#00000000"},label:{text:"Path",fill:"white"}}});r.addCells([i,a,o,s,h,p,f,m,b,g]),n.on("cell:pointerdown",(function(e,r,n,i){var a=document.body,o=document.createElement("div");o.id="flyPaper",o.style="position:fixed;z-index:100;opacity:0.7;pointer-event:none;",a.append(o);var s=document.getElementById("flyPaper"),d=new c.b.Graph,u=(new c.b.Paper({el:s,model:d,height:60,width:80,background:{color:"#00000000"},interactive:!1}),e.model.clone()),h=e.model.position(),p=n-h.x,f=i-h.y;u.position(0,0),d.addCell(u);var m=function(e){s.style.left=e.pageX-p+"px",s.style.top=e.pageY-f+"px"};m(r),a.addEventListener("mousemove",m),a.addEventListener("mouseup",(function e(r){var n=r.pageX,i=r.pageY,o=l.$el.offset();if(n>o.left&&n<o.left+l.$el.width()&&i>o.top&&i<o.top+l.$el.height()){var c=u.clone();c.position(n-o.left-p,i-o.top-f),c.resize(120,80),t.addCell(c)}a.removeEventListener("mousemove",m),a.removeEventListener("mouseup",e),u.remove(),s.remove()}))}))}(t,e.editorGraph,e.editorPaper)}),[e.editorGraph,e.editorPaper]),Object(h.jsx)("div",{className:"component-selector",children:Object(h.jsxs)("div",{className:"shapes-container",children:[Object(h.jsx)("div",{className:"shapes-type-heading",children:"Components"}),Object(h.jsx)("div",{className:"shapes",ref:t})]})})}var f=l(34);l(58);function m(e){return Object(h.jsx)("div",{className:"component-meta-editor",children:e.cellType&&"link"!==e.cellType&&Object(h.jsxs)("div",{className:"container",children:[e.cellSize&&Object(h.jsxs)("div",{className:"cell-attr-group",children:[Object(h.jsx)("h3",{children:"Size"}),Object(h.jsx)("div",{className:"underline"}),Object(h.jsx)("div",{className:"cell-attr-group-fields",children:Object.keys(e.cellSize).map((function(t){return Object(h.jsxs)("div",{className:"cell-attr-group-fields",children:[Object(h.jsx)("div",{className:"key-field-name",children:t}),Object(h.jsx)("input",{type:"number",value:e.cellSize[t]?e.cellSize[t]:"",onChange:function(l){return function(t,l){e.setCellSize((function(e){var r=Object(f.a)({},e);return r[l]=t.target.value,r}))}(l,t)}})]})}))})]}),Object.keys(e.cellMetaData).map((function(t){return Object(h.jsxs)("div",{className:"cell-attr-group",children:[Object(h.jsx)("h3",{children:t}),Object(h.jsx)("div",{className:"underline"}),Object(h.jsx)("div",{className:"cell-attr-group-fields",children:Object.keys(e.cellMetaData[t]).map((function(l){return Object(h.jsx)("div",{className:"cell-attr-key-field-group",children:!(e.cellMetaData[t][l]instanceof Object)&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"key-field-name",children:l}),Object(h.jsx)("input",{type:"text",value:e.cellMetaData[t][l]?e.cellMetaData[t][l]:"",onChange:function(r){return function(t,l,r){e.setCellMetaData((function(e){var n=Object(f.a)({},e);return console.log("target.cellMetaDataKey",l),console.log("target.attrKeyField",r),n[l][r]=t.target.value,n}))}(r,t,l)}})]})},l)}))})]},t)}))]})})}l(59);function b(e){var t=Object(r.useRef)(null),l=Object(r.useState)(null),n=Object(o.a)(l,2),i=n[0],a=n[1];return Object(r.useEffect)((function(){var l=new c.b.Graph,r=new c.b.Paper({el:t.current,model:l,background:{color:"#1B283F"},width:"100%",height:"100%",gridSize:30,drawGrid:{name:"mesh",args:{color:"#2C2E41",thickness:1}},frozen:!0,snapLinks:!0,linkPinning:!1,defaultLink:new d.a.standard.Link,async:!0,connectionStrategy:c.a.pinAbsolute});e.setEditorGraph(l),e.setEditorPaper(r);var n=new c.e.Vertices,i=new c.e.Segments,o=new c.e.Remove,s=new c.b.ToolsView({name:"link-tools",tools:[n,i,o]}),u=new c.c.Remove,h=new(c.c.Button.extend({name:"link-generate-button",options:{markup:[{tagName:"circle",selector:"button",attributes:{r:10,fill:"#64A0C1",stroke:"white","stroke-width":1,cursor:"pointer"}}],x:"100%",y:"50%",offset:{x:0,y:0},rotate:!0,action:function(e,t,l){var n=new d.a.standard.Link({label:{text:"link"}});n.source(t.model,{anchor:{name:"modelCenter"}}),n.set("target",{x:e.pageX,y:e.pageY}),n.addTo(r.model)}}})),p=new c.b.ToolsView({name:"element-tools",tools:[u,h]});r.on("cell:pointerclick",(function(t){f(this);var l=t.model;console.log(l),a(l.id);var r=l.isElement()?"element":"link";if("element"===r){e.setCellMetaData(l.attributes.attrs),e.setCellSize(l.attributes.size);var n=l.attributes.type.split(".")[1];r=r+"."+n,console.log(n,r)}if(e.setCellType(r),l.isLink())return l.attr({line:{stroke:"orange"}}),void c.d.mask.add(t,{selector:"root"},"my-cell-highlight",{padding:0,deep:!0,layer:"back",attrs:{stroke:null}});c.d.mask.add(t,{selector:"root"},"my-cell-highlight",{padding:0,deep:!0,layer:"front",attrs:{stroke:"orange","stroke-width":3}})})),r.on("cell:contextmenu",(function(e){e.pointerclick()})),r.on("cell:mouseover",(function(e){if(!c.d.mask.get(e,"my-cell-highlight")){var t=e.model;if(t.isLink())return t.attr({line:{stroke:"orange"}}),void c.d.mask.add(e,{selector:"root"},"my-hover-highlight",{padding:0,deep:!0,layer:"back",attrs:{stoke:null}});c.d.mask.add(e,{selector:"root"},"my-hover-highlight",{padding:0,deep:!0,layer:"front",attrs:{stroke:"orange","stroke-width":3}})}})),r.on("cell:pointerdown",(function(t){f(this);var l=t.model;a(l.id);var r=l.isElement()?"element":"link";if("element"===r){e.setCellMetaData(l.attributes.attrs),e.setCellSize(l.attributes.size);var n=l.attributes.type.split(".")[1];r=r+"."+n,console.log(n,r)}if(e.setCellType(r),l.isLink())return l.attr({line:{stroke:"orange"}}),void c.d.mask.add(t,{selector:"root"},"my-cell-highlight",{padding:0,deep:!0,layer:"back",attrs:{stoke:null}});c.d.mask.add(t,{selector:"root"},"my-cell-highlight",{padding:0,deep:!0,layer:"front",attrs:{stroke:"orange","stroke-width":3}})})),r.on("cell:mouseout",(function(e){c.d.mask.remove(e,"my-hover-highlight");var t=e.model;t.isLink()&&(c.d.mask.get(e,"my-cell-highlight")||t.attr("line/stroke","#64A0C1"))})),r.on("link:pointerclick",(function(e){r.removeTools(),e.addTools(s)})),r.on("link:pointerdown",(function(e){this.removeTools(),e.addTools(s)})),r.on("link:pointerup",(function(e,t,r,n){var i=e.model;if(!i.getSourceElement()||!i.getTargetElement()){var a=l.findModelsFromPoint({x:r,y:n});if(a.length){var o=a[0];i.target(o)}}})),r.on("element:pointerclick",(function(e){this.removeTools(),e.addTools(p)})),r.on("element:pointerdown",(function(e){this.removeTools(),e.addTools(p)})),r.on("blank:pointerclick",(function(){f(this),r.removeTools(),e.setCellType(null),a(null)}));var f=function(e){for(var t=e.model.getElements(),l=0;l<t.length;l++){var r=e.findViewByModel(t[l]);c.d.mask.remove(r)}for(var n=e.model.getLinks(),i=0;i<n.length;i++){var a=n[i];a.attr("line/stroke","#64A0C1");var o=e.findViewByModel(a);c.d.mask.remove(o)}};r.unfreeze()}),[]),Object(r.useEffect)((function(){var t=e.editorGraph,l=e.editorPaper;if(t&&l&&i){var r=t.getCell(i);r&&!r.isLink()&&(r.attr(Object(f.a)(Object(f.a)({},r.attributes.attrs),e.cellMetaData)),r.resize(e.cellSize.width,e.cellSize.height))}}),[e.cellSize,e.cellMetaData,e.editorGraph,e.editorPaper]),Object(h.jsx)("div",{className:"diagram-editor",ref:t})}l(60);function g(e){var t=Object(r.useState)(null),l=Object(o.a)(t,2),n=l[0],i=l[1],a=Object(r.useState)(null),s=Object(o.a)(a,2),c=s[0],d=s[1],u=Object(r.useState)({}),f=Object(o.a)(u,2),g=f[0],j=f[1],v=Object(r.useState)({}),y=Object(o.a)(v,2),O=y[0],x=y[1];return Object(h.jsxs)("div",{className:"app-wrapper",children:[Object(h.jsx)(p,{editorGraph:e.editorGraph,editorPaper:n}),Object(h.jsx)(b,{editorGraph:e.editorGraph,setEditorGraph:e.setEditorGraph,editorPaper:n,setEditorPaper:i,setCellType:d,cellMetaData:g,setCellMetaData:j,cellSize:O,setCellSize:x}),Object(h.jsx)(m,{cellType:c,cellMetaData:g,setCellMetaData:j,cellSize:O,setCellSize:x})]})}var j={JSON:"json"},v="ARCHITECTURE",y="DECISIONTREE";function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var l,r,n=function(e,t){if(null==e)return{};var l,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)l=i[r],t.indexOf(l)>=0||(n[l]=e[l]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)l=i[r],t.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(n[l]=e[l])}return n}var k=r.createElement("path",{d:"M0 32.875L0.479167 37.5L3.58417 34.2917L8.89333 18.4584C7.59 18.1042 6.44 17.3959 5.50083 16.4167L0 32.875ZM16.1192 16.4167C15.18 17.3959 14.0108 18.1042 12.7267 18.4584L18.0358 34.2917L21.1408 37.5L21.6392 32.875L16.1192 16.4167ZM16.445 11.6667C17.02 8.4167 15.295 5.5417 12.7267 4.5417V2.08336C12.7267 0.93753 11.8642 3.05176e-05 10.81 3.05176e-05C9.75583 3.05176e-05 8.89333 0.93753 8.89333 2.08336V4.5417C6.67 5.4167 5.06 7.70836 5.06 10.4167C5.06 14.25 8.24167 17.2917 11.8833 16.5625C14.145 16.1042 16.0042 14.125 16.445 11.6667ZM10.81 12.5C9.75583 12.5 8.89333 11.5625 8.89333 10.4167C8.89333 9.27086 9.75583 8.33336 10.81 8.33336C11.8642 8.33336 12.7267 9.27086 12.7267 10.4167C12.7267 11.5625 11.8642 12.5 10.81 12.5Z",fill:"#DDDDDDBF"});function w(e,t){var l=e.title,n=e.titleId,i=x(e,["title","titleId"]);return r.createElement("svg",O({width:22,height:28,viewBox:"0 0 22 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},i),l?r.createElement("title",{id:n},l):null,k)}var C=r.forwardRef(w);l.p;function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var l,r,n=function(e,t){if(null==e)return{};var l,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)l=i[r],t.indexOf(l)>=0||(n[l]=e[l]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)l=i[r],t.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(n[l]=e[l])}return n}var S=r.createElement("path",{d:"M39.6484 17.3091L35 12.9512V4.01562C35 3.69824 34.8763 3.42358 34.6289 3.19165C34.3815 2.95972 34.0885 2.84375 33.75 2.84375H18.7891C18.0078 2.13574 16.9531 1.56812 15.625 1.14087C14.2969 0.713623 12.8385 0.5 11.25 0.5C8.82812 0.5 6.76432 0.957764 5.05859 1.87329C3.35286 2.78882 2.5 3.89355 2.5 5.1875C2.5 6.35938 3.21615 7.37866 4.64844 8.24536C6.08073 9.11206 7.86458 9.63086 10 9.80176V14.5625H2.5C1.82292 14.5625 1.23698 14.7944 0.742188 15.2583C0.247396 15.7222 0 16.2715 0 16.9062V21.5938C0 22.2529 0.247396 22.8083 0.742188 23.26C1.23698 23.7117 1.82292 23.9375 2.5 23.9375H10V28.6982C7.86458 28.8691 6.08073 29.3879 4.64844 30.2546C3.21615 31.1213 2.5 32.1406 2.5 33.3125C2.5 34.6064 3.35286 35.7112 5.05859 36.6267C6.76432 37.5422 8.82812 38 11.25 38C13.6719 38 15.7357 37.5422 17.4414 36.6267C19.1471 35.7112 20 34.6064 20 33.3125C20 32.1406 19.2839 31.1213 17.8516 30.2546C16.4193 29.3879 14.6354 28.8691 12.5 28.6982V23.9375H20C20.7031 23.9375 21.2956 23.7117 21.7773 23.26C22.2591 22.8083 22.5 22.2529 22.5 21.5938V19.25H28.2031L32.8906 23.6445C33.125 23.8643 33.4049 23.9741 33.7305 23.9741C34.056 23.9741 34.3359 23.8643 34.5703 23.6445L39.6484 18.8838C39.8828 18.6641 40 18.4016 40 18.0964C40 17.7913 39.8828 17.5288 39.6484 17.3091ZM20 14.5625H12.5V9.80176C14.6354 9.63086 16.4193 9.11206 17.8516 8.24536C19.2839 7.37866 20 6.35938 20 5.1875H32.5V12.9146L28.2422 16.9062H22.5C22.5 16.2715 22.2591 15.7222 21.7773 15.2583C21.2956 14.7944 20.7031 14.5625 20 14.5625Z",fill:"#DDDDDDBF"});function N(e,t){var l=e.title,n=e.titleId,i=D(e,["title","titleId"]);return r.createElement("svg",E({width:40,height:28,viewBox:"0 0 40 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},i),l?r.createElement("title",{id:n},l):null,S)}var z=r.forwardRef(N);l.p,l(61);function T(e){var t=Object(r.useState)(!1),l=Object(o.a)(t,2),n=l[0],i=l[1],a=Object(r.useRef)(null);return Object(h.jsxs)("div",{className:"export-as-selector",children:[Object(h.jsx)("a",{className:"display-none",ref:a}),Object(h.jsx)("div",{className:"export-as-label",onClick:function(){i((function(e){return!e}))},children:"Export as"}),Object(h.jsx)("div",{className:"export-select-options"+(n?"":" display-none"),children:Object.keys(j).map((function(t){return Object(h.jsxs)("div",{className:"select-option",onClick:function(){return function(t){var l,r;if(e.editorGraph){l=e.editorGraph.toJSON(),r=JSON.stringify(l,null,4);var n=new Blob([r]),i=URL.createObjectURL(n);a.current.href=i,a.current.download="Diagraam."+t,a.current.click()}}(j[t])},children:["Export as ",t]},t)}))})]})}l(62);function L(e){var t=[{type:v,label:Object(h.jsx)(C,{}),title:"Architecture Diagram"},{type:y,label:Object(h.jsx)(z,{}),title:"Decision Tree Diagram"}];return Object(h.jsxs)("div",{className:"navbar",children:[Object(h.jsxs)("div",{className:"left",children:[Object(h.jsx)("div",{className:"icon logo",children:"D"}),t.map((function(t){return Object(h.jsx)("div",{className:"icon hoverable"+(t.type===e.diagramType?" active":""),title:t.title,onClick:function(){return e.setDiagramType(t.type)},children:t.label},t.title)}))]}),Object(h.jsx)("div",{className:"middle",children:"Diagraam"}),Object(h.jsx)("div",{className:"right",children:Object(h.jsx)(T,{editorGraph:e.editorGraph})})]})}var P=function(){var e=Object(r.useState)(v),t=Object(o.a)(e,2),l=t[0],n=t[1],i=Object(r.useState)(null),a=Object(o.a)(i,2),s=a[0],c=a[1];return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(L,{diagramType:l,setDiagramType:n,editorGraph:s}),Object(h.jsx)(g,{editorGraph:s,setEditorGraph:c})]})},M=function(e){e&&e instanceof Function&&l.e(3).then(l.bind(null,65)).then((function(t){var l=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,a=t.getTTFB;l(e),r(e),n(e),i(e),a(e)}))};a.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(P,{})}),document.getElementById("root")),M()}},[[64,1,2]]]);
//# sourceMappingURL=main.2dd06b4c.chunk.js.map